(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[3],{100:function(e,t,a){e.exports={checkoutSummary:"CheckoutSummary_checkoutSummary__2GCYz",sumHeading:"CheckoutSummary_sumHeading__3_78J",sumPrice:"CheckoutSummary_sumPrice__3GEwQ"}},102:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(3),i=a(99),c=a.n(i),s=a(14),l=a(100),u=a.n(l),m=a(55),d=a(12),p=a(11),h=Object(p.b)((function(e){return{ingredients:e.burger.ingredients,price:e.burger.price}}))((function(e){return n.a.createElement("div",{className:u.a.checkoutSummary},n.a.createElement("h2",{className:u.a.sumHeading},"Your order"),n.a.createElement(m.a,{ingredients:e.ingredients,placeholder:"Empty burger =("}),n.a.createElement("p",{className:u.a.sumPrice},"Total price is ",n.a.createElement("strong",null,e.price.toFixed(2),"$")),n.a.createElement(d.a,{type:"checkoutBtn",clicked:e.clickedContinue},"Continue"),n.a.createElement(d.a,{type:"cancelBtn",clicked:e.clickedCancel},"Clear order"))})),g=a(4),f=a(17),b=a(18),y=a(20),v=a(19),_=a(95),E=a(28),C=function(e){return!!e.match(/^\+{0,1}\d+$/)&&("+"===e[0]?!(e.length<12||e.length>14):11===e.length)},k=a(35),x=function(e){Object(y.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={name:"",addressStr:"",addressHouse:0,addressApart:0,phone:0,delivery:"",comment:"",formIsValid:!0},e.changeHandler=function(t){var a=Object(g.a)({},e.state);a[t.target.name]=t.target.value.toString(10),e.setState(Object(g.a)({},a)),"phone"===t.target.name&&(C(t.target.value)?(e.formConfig[1].config.valid="true",e.setState({formIsValid:!0})):(e.formConfig[1].config.valid="",e.setState({formIsValid:!1})))},e.submitOrderHandler=function(t){if(t.preventDefault(),e.state.formIsValid){var a={userId:e.props.userId,ingredients:e.props.ingredients,price:e.props.price,customer:{name:e.state.name,address:{street:e.state.addressStr,houseNo:e.state.addressHouse,apartment:e.state.addressApart},phone:e.state.phone},deliveryTime:e.state.delivery,comments:e.state.comment};e.props.onPurchase(a,e.props.token)}},e.formConfig=[{name:"name",type:"text",label:"Your name",config:{placeholder:"Minnie Mouse",required:!0}},{name:"phone",type:"tel",label:"Contact phone",config:{placeholder:"+7 000 000 0000",required:!0,valid:"true"}},{name:"delivery",type:"datalist",label:"Delivery time",config:{listName:"delivery-methods",options:["Soonest"]}},{name:"addressStr",type:"text",label:"Delivery address",config:{placeholder:"Burger street",required:!0}},{name:"addressHouse",type:"text",config:{placeholder:"25",required:!0}},{name:"addressApart",type:"text",config:{placeholder:"Apartment/office"}},{name:"comment",type:"textarea",label:"Comments",config:{}}],e}return Object(b.a)(a,[{key:"render",value:function(){return this.props.loading?n.a.createElement(E.a,null):n.a.createElement(_.a,{heading:"Where do we deliver your burger?",action:"Order",inputs:this.formConfig,change:this.changeHandler,submit:this.submitOrderHandler,invalid:!this.formIsValid})}}]),a}(n.a.Component),I=Object(p.b)((function(e){return{ingredients:e.burger.ingredients,price:e.burger.price,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId}}),(function(e){return{onPurchase:function(t,a){return e(Object(k.a)(t,a))}}}))(Object(o.g)(x));t.default=Object(p.b)((function(e){return{ingredients:e.burger.ingredients,error:e.order.error,orderInprogress:e.order.orderInprogress}}))((function(e){var t=n.a.createElement("div",{className:c.a.Checkout},n.a.createElement(h,{clickedCancel:function(){e.history.replace("/build")},clickedContinue:function(){e.history.push("checkout/delivery")}}),n.a.createElement(o.b,{path:e.match.url+"/delivery",component:I}));return e.error&&(t=n.a.createElement(s.a,{show:e.error},"Failed to send order")),e.orderInprogress||(t=n.a.createElement(o.a,{to:"/history"})),e.ingredients?t:n.a.createElement(o.a,{to:"/build"})}))},93:function(e,t,a){e.exports={formContainer:"Form_formContainer__3xp4C",formHeading:"Form_formHeading__359xK",formBody:"Form_formBody__3DF8g",btnContainer:"Form_btnContainer__2ug9Y"}},94:function(e,t,a){e.exports={inputContainer:"Input_inputContainer__3xMTE",inputLabel:"Input_inputLabel__2jAj2",textInput:"Input_textInput__S1WPd",textArea:"Input_textArea__3MuUf",invalid:"Input_invalid__3U50G"}},95:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(93),i=a.n(o),c=a(94),s=a.n(c),l=function(e){var t=null;switch(e.type){case"text":case"time":case"date":case"url":case"search":t=n.a.createElement("input",Object.assign({onChange:e.change,className:s.a.textInput,type:e.type,name:e.name,id:e.name},e.otherProps));break;case"tel":case"email":case"password":var a=[s.a.textInput];e.checkValidity&&!e.otherProps.valid&&a.push(s.a.invalid),t=n.a.createElement("input",Object.assign({onChange:e.change,className:a.join(" "),type:e.type,name:e.name,id:e.name},e.otherProps));break;case"textarea":t=n.a.createElement("textarea",{onChange:e.change,className:s.a.textArea,name:e.name,id:e.name});break;case"select":var r=e.otherProps.options.map((function(e){return n.a.createElement("option",{value:e.value,key:e.value},e.text)}));t=n.a.createElement("select",{name:e.name,id:e.name,value:e.otherProps.options[0]},r);break;case"datalist":var o=e.otherProps.options.map((function(e){return n.a.createElement("option",{value:e,key:e})}));t=n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{onChange:e.change,className:s.a.textInput,list:e.otherProps.listName,name:e.name,id:e.name}),n.a.createElement("datalist",{id:e.otherProps.listName,value:e.otherProps.options[0]},o));break;default:t=n.a.createElement("input",null)}return n.a.createElement("div",{className:s.a.inputContainer},n.a.createElement("label",{htmlFor:e.name,className:s.a.inputLabel},e.label,e.label&&e.otherProps.required?n.a.createElement("span",null,"*"):null),t)},u=a(12);t.a=function(e){var t=e.inputs.map((function(t){return n.a.createElement(l,{name:t.name,key:t.name,label:t.label,type:t.type,otherProps:t.config,change:e.change,checkValidity:e.invalid})}));return n.a.createElement("div",{className:i.a.formContainer},n.a.createElement("h3",{className:i.a.formHeading},e.heading),n.a.createElement("form",{className:i.a.formBody,onSubmit:e.submit},n.a.createElement("div",{className:i.a.btnContainer},t,n.a.createElement(u.a,{type:"submitBtn",btnType:"submit"},e.action))))}},99:function(e,t,a){e.exports={Checkout:"Checkout_Checkout__2XV_7"}}}]);
//# sourceMappingURL=3.1faeccfb.chunk.js.map